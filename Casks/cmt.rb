# This file was generated by GoReleaser. DO NOT EDIT.
cask "cmt" do
  name "cmt"
  desc "Generate contextual git commit messages using Claude AI"
  homepage "https://github.com/gussy/cmt"
  version "0.2.3"

  livecheck do
    skip "Auto-generated on release."
  end

  binary "cmt"
  bash_completion "completions/cmt.bash"
  zsh_completion "completions/_cmt"
  fish_completion "completions/cmt.fish"

  on_macos do
    on_intel do
      url "https://github.com/Gussy/cmt/releases/download/v#{version}/cmt_darwin_amd64.tar.gz"
      sha256 "bc08a47a2726d51651a36054bb91b4572d11c077bc4205430e0828516950a991"
    end
    on_arm do
      url "https://github.com/Gussy/cmt/releases/download/v#{version}/cmt_darwin_arm64.tar.gz"
      sha256 "40bb4ab208b2f2b4d43b9b86c05ef2b5ea621f2238efddf2e9234c968c3bf4fa"
    end
  end

  on_linux do
    on_intel do
      url "https://github.com/Gussy/cmt/releases/download/v#{version}/cmt_linux_amd64.tar.gz"
      sha256 "72763aadaa00b18fdc63732c92bf599af82cfed37056a028e18f81b7af0116e4"
    end
    on_arm do
      url "https://github.com/Gussy/cmt/releases/download/v#{version}/cmt_linux_arm64.tar.gz"
      sha256 "f36e13061a44362e7a7ea3e6ca775fee0aaec8ba0f321f58c3b7cdb18a672375"
    end
  end

  postflight do
    if OS.mac?
      system_command "/usr/bin/xattr", args: ["-dr", "com.apple.quarantine", "#{staged_path}/cmt"]
    end
  end

  caveats do
    "Note: This tool removes macOS quarantine attributes to allow execution."
    "The binary is not code-signed or notarized by Apple."
  end

  # No zap stanza required
end
