# This file was generated by GoReleaser. DO NOT EDIT.
cask "cmt" do
  name "cmt"
  desc "Generate contextual git commit messages using Claude AI"
  homepage "https://github.com/gussy/cmt"
  version "0.2.1"

  livecheck do
    skip "Auto-generated on release."
  end

  binary "cmt"
  bash_completion "completions/cmt.bash"
  zsh_completion "completions/_cmt"
  fish_completion "completions/cmt.fish"

  on_macos do
    on_intel do
      url "https://github.com/Gussy/cmt/releases/download/v#{version}/cmt_darwin_amd64.tar.gz"
      sha256 "2dced458912fb53e49ab5a3a1691f16dcfeba4a3a2e92362bf48021af70538ca"
    end
    on_arm do
      url "https://github.com/Gussy/cmt/releases/download/v#{version}/cmt_darwin_arm64.tar.gz"
      sha256 "00ef2b12fe196c4052124097bdf54eef3d255bf7b5efc64ba80814f912c7d271"
    end
  end

  on_linux do
    on_intel do
      url "https://github.com/Gussy/cmt/releases/download/v#{version}/cmt_linux_amd64.tar.gz"
      sha256 "302365b69b32cfbf6634315ca13e91c2b2ba382383616101e955942085633972"
    end
    on_arm do
      url "https://github.com/Gussy/cmt/releases/download/v#{version}/cmt_linux_arm64.tar.gz"
      sha256 "0a71b5baa8a682ffb15dc7af81ad667750b7f416b2059616a0c573c569f45972"
    end
  end

  postflight do
    if OS.mac?
      system_command "/usr/bin/xattr", args: ["-dr", "com.apple.quarantine", "#{staged_path}/cmt"]
    end
  end

  caveats do
    "Note: This tool removes macOS quarantine attributes to allow execution."
    "The binary is not code-signed or notarized by Apple."
  end

  # No zap stanza required
end
